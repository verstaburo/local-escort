include ../model-common-info/model-common-info
include ../close/close

mixin model-preview(photos, name, age, price, isOnline)
    - var maxPhotosCount = 5

    +b.model-preview&attributes(attributes)
        +e.content
            +e.slider.swiper-container(data-max-slides=maxPhotosCount)
                +e.photos.swiper-wrapper
                    each photo, index in photos.slice(0, maxPhotosCount)
                        +e.slide.swiper-slide
                            +e.IMG.photo(src=`%=static=%img/content/model-preview/${photo}.jpg` alt=`Model ${name}`)
            if isOnline
                +e.online
            block
            if photos.length > maxPhotosCount
                +e.A.cutoff(href="#")
                    b=`+${photos.slice(maxPhotosCount).length}`
                    span photos
            +e.pagination
            //- +e.button._prev
            //- +e.button._next
            +e.breakinfo
                +close._top_right
                +e.row._top
                    span On tour in Moscow
                    != pugHelpers.Icon.call(locals, { iconName: 'plane', className: 'model-preview__plane', iconWidth: 14, iconHeight: 14 })
                +e.row._bottom
                    span 19 OCT - 29 DEC

        +e.footer
            +model-common-info(name, age, price).__info
            +e.actions
                +e.DIV.action._info i
                +e.A(href='#').action._profile View profile
